<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Headphone Icon</title>
</head>
    <audio id="music" xmlns="http://www.w3.org/1999/xhtml">
        <source src="Sting - Shape of My Heart.mp3" type="audio/mpeg" />
    </audio>
<body>
     <object data="headphone_icon.svg" type="image/svg+xml" id="svg" width="30%" height="30%"></object>
    <script>
        var active = false;
        var a = document.getElementById("svg");

        var music = document.getElementById("music");

        a.addEventListener("load",function(){

            var svgDoc = a.contentDocument;
            var icon = svgDoc.getElementById("cover");
            var background = svgDoc.getElementById("bkg");
            var headphone = svgDoc.getElementById("headphone");
            var wave = svgDoc.getElementById("wave");

            icon.addEventListener("mousedown",function(){
                if (!active) {
                    background.style.fill = "#29ABE2";
                    headphone.style.fill="#0aff74";
                    wave.style.fill = "#0aff74";
                    music.play();
                    active = true;
                }
                else {
                    background.style.fill = "#29ABE2";
                    headphone.style.fill="#ff0051";
                    wave.style.fill = "#ff0051";
                    music.pause();
                    music.currentTime = 0;
                    active = false;
                }

            },false);

             icon.addEventListener("mouseenter", function(){
                 if (!active) {
                     background.style.fill = "#0aff74";
                 }
                 else {
                     wave.style.fill= "#ff0051";
                     music.pause();
                 }
             },false);

             icon.addEventListener("mouseout", function(){
                 if (!active) {
                     background.style.fill= "#29ABE2";
                     headphone.style.fill="#ffffff";
                     wave.style.fill = "#ffffff";
                 }
                 else {
                     wave.style.fill= "#0aff74";
                     music.play();
                 }
             },false);

        },false);
    </script>
</body>
</html>
